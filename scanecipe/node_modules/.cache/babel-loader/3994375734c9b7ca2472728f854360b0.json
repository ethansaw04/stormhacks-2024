{"ast":null,"code":"var _jsxFileName = \"/Users/jakechoi/Documents/StormhacksFall2024/stormhacks-2024/scanecipe/src/components/scan.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from \"react\";\nimport useState from 'react-usestateref';\nimport { beep as beepNow, WORKER_TYPE } from \"../helpers\";\nimport { CODE_TYPE } from \"../transformers/base\";\nimport { Upnqr } from \"../transformers/upnqr\";\nimport { Covid19 } from \"../transformers/covid19\";\nimport \"../css/scan.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BTN_TXT = {\n  START: \"START\",\n  STOP: \"STOP\"\n};\nconst CANVAS_SIZE = {\n  WIDTH: 320,\n  HEIGHT: 430\n};\nconst CAPTURE_OPTIONS = {\n  audio: false,\n  video: {\n    facingMode: \"environment\"\n  }\n};\nconst sw = CANVAS_SIZE.WIDTH;\nconst sh = CANVAS_SIZE.HEIGHT;\nconst dw = sw;\nconst dh = sh;\nconst dx = 0;\nconst dy = 0;\nlet sx = 0;\nlet sy = 0;\nconst crossHairSvg = \"M77.125 148.02567c0-3.5774 2.73862-6.27567 6.37076-6.27567H119V117H84.0192C66.50812 117 52 130.77595 52 148.02567V183h25.125v-34.97433zM237.37338 117H202v24.75h35.18494c3.63161 0 6.69006 2.69775 6.69006 6.27567V183H269v-34.97433C269 130.77595 254.88446 117 237.37338 117zM243.875 285.4587c0 3.5774-2.73863 6.27567-6.37076 6.27567H202V317h35.50424C255.01532 317 269 302.70842 269 285.4587V251h-25.125v34.4587zM83.49576 291.73438c-3.63213 0-6.37076-2.69776-6.37076-6.27568V251H52v34.4587C52 302.70842 66.50812 317 84.0192 317H119v-25.26563H83.49576z\";\nconst crossHairWidth = 217,\n  crossHairHeight = 200,\n  x0 = 53,\n  y0 = 117;\nexport default function Scan({\n  beep = true,\n  decode = true,\n  worker = WORKER_TYPE.WASM,\n  scanRate = 250,\n  bw = false,\n  crosshair = true,\n  upnqr = false,\n  covid19 = false\n}) {\n  _s();\n  // Component state\n  const [btnText, setBtnText] = useState(BTN_TXT.START);\n  const [scanning, setScanning] = useState(false);\n  const [bwOn, setBwOn, bwRef] = useState(bw);\n  const [crosshairOn, setCrosshairOn, crosshairRef] = useState(crosshair);\n  const [resultOpen, setResultOpen] = useState(false);\n  const [transformToggle, setTransformToggle] = useState(true);\n  const [rawCode, setRawCode] = useState();\n  const [codeType, setCodeType] = useState();\n  const [beepOn, setBeepOn] = useState(beep);\n  const [video] = useState(document.createElement(\"video\"));\n  const [barcode, setBarcode] = useState();\n  const [milliseconds, setMilliseconds] = useState();\n\n  // Constants\n  let qrworker = null;\n  let canvasElement = null;\n  let canvas = null;\n  let oldTime = 0;\n  video.onplaying = () => {\n    sx = (video.videoWidth - CANVAS_SIZE.WIDTH) / 2;\n    sy = (video.videoHeight - CANVAS_SIZE.HEIGHT) / 2;\n  };\n  const initWorker = () => {\n    qrworker = new Worker(worker + \"Worker.js\");\n    qrworker.onmessage = async ev => {\n      if (ev.data != null) {\n        qrworker.terminate();\n        const result = ev.data;\n        await stopScan();\n        let res = result.data;\n        const millis = ev.data.ms;\n        const rawCode = res;\n        let codeType = CODE_TYPE.RAW;\n\n        // Transform raw to UPNQR\n        if (upnqr) {\n          const transformer = new Upnqr();\n          if (transformer.identified(res)) {\n            codeType = transformer.codeType();\n            res = await transformer.transform(res);\n          }\n        }\n\n        // Transform raw to COVID19 certificate\n        if (covid19) {\n          const transformer = new Covid19();\n          if (transformer.identified(res)) {\n            codeType = transformer.codeType();\n            res = await transformer.transform(res);\n          }\n        }\n        setBarcode(res);\n        setResultOpen(true);\n        setRawCode(rawCode);\n        setCodeType(codeType);\n        setMilliseconds(millis);\n        if (beepOn) beepNow();\n      }\n    };\n  };\n  const startScan = async () => {\n    initWorker();\n    canvasElement = document.getElementById(\"canvas\");\n    canvas = canvasElement.getContext(\"2d\", {\n      willReadFrequently: true\n    });\n    setBtnText(BTN_TXT.STOP);\n    setBarcode(null);\n    setResultOpen(false);\n    setTransformToggle(true);\n    setRawCode(null);\n    setCodeType(CODE_TYPE.RAW);\n    try {\n      video.srcObject = await navigator.mediaDevices.getUserMedia(CAPTURE_OPTIONS);\n      video.setAttribute(\"playsinline\", \"true\");\n      await video.play();\n      setScanning(true);\n      requestAnimationFrame(tick);\n    } catch (err) {\n      stopScan().then();\n      console.log(\"stopped by the user\");\n      alert(err);\n    }\n  };\n  const stopScan = async () => {\n    setScanning(false);\n    setBtnText(BTN_TXT.START);\n    await video.pause();\n    if (video.srcObject) {\n      video.srcObject.getVideoTracks().forEach(track => track.stop());\n      video.srcObject = null;\n    }\n  };\n  const tick = time => {\n    if (video.readyState === video.HAVE_ENOUGH_DATA) {\n      canvas.drawImage(video, sx, sy, sw, sh, dx, dy, dw, dh);\n      if (bwRef.current) monochromize();\n      if (crosshairRef.current) drawCrosshair();\n      if (scanning) requestAnimationFrame(tick);\n      if (decode) recogniseQRcode(time);\n    }\n    requestAnimationFrame(tick);\n  };\n  const monochromize = () => {\n    let imgd = canvas.getImageData(0, 0, canvasElement.width, canvasElement.height);\n    let pix = imgd.data;\n    for (let i = 0; i < pix.length; i += 4) {\n      let gray = pix[i] * 0.3 + pix[i + 1] * 0.59 + pix[i + 2] * 0.11;\n      pix[i] = gray;\n      pix[i + 1] = gray;\n      pix[i + 2] = gray;\n    }\n    canvas.putImageData(imgd, 0, 0);\n  };\n  const drawCrosshair = () => {\n    canvas.fillStyle = \"rgba(255,255,255,0.4)\";\n    const shape = new Path2D(crossHairSvg);\n    canvas.fill(shape);\n  };\n  const recogniseQRcode = time => {\n    if (time - oldTime > scanRate) {\n      oldTime = time;\n      let imageData;\n      if (crosshairRef.current === true) imageData = canvas.getImageData(x0, y0, crossHairWidth, crossHairHeight);else imageData = canvas.getImageData(0, 0, canvasElement.width, canvasElement.height);\n      qrworker.postMessage({\n        width: imageData.width,\n        height: imageData.height\n      });\n      qrworker.postMessage(imageData, [imageData.data.buffer]);\n    }\n  };\n  const onBtnClickHandler = async e => {\n    e.preventDefault();\n    if (scanning) await stopScan();else await startScan();\n  };\n  const onCrossHairClickHandler = async e => {\n    e.preventDefault();\n    setCrosshairOn(!crosshairOn);\n  };\n  const onBWClickHandler = async e => {\n    e.preventDefault();\n    setBwOn(!bwOn);\n  };\n  const onBeepClickHandler = async e => {\n    e.preventDefault();\n    setBeepOn(!beepOn);\n  };\n  const startStyle = () => {\n    const style = {\n      width: 64,\n      textAlign: \"center\"\n    };\n    if (scanning) return {\n      backgroundColor: \"red\",\n      ...style\n    };else return {\n      backgroundColor: \"\",\n      ...style\n    };\n  };\n  const xHairStyle = () => {\n    if (crosshairOn) return {\n      backgroundColor: \"green\"\n    };else return {\n      backgroundColor: \"\"\n    };\n  };\n  const bwStyle = () => {\n    if (bwOn) return {\n      backgroundColor: \"green\"\n    };else return {\n      backgroundColor: \"\"\n    };\n  };\n  const beepStyle = () => {\n    if (beepOn) return {\n      backgroundColor: \"green\"\n    };else return {\n      backgroundColor: \"\"\n    };\n  };\n  const transformToggleStyle = () => {\n    if (transformToggle) return {\n      backgroundColor: \"green\",\n      padding: 12\n    };else return {\n      backgroundColor: \"\",\n      padding: 12\n    };\n  };\n  useEffect(() => {}, []);\n  const renderCanvas = () => {\n    return /*#__PURE__*/_jsxDEV(\"canvas\", {\n      id: \"canvas\",\n      className: \"scanCanvas\",\n      width: CANVAS_SIZE.WIDTH,\n      height: CANVAS_SIZE.HEIGHT\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 12\n    }, this);\n  };\n  const renderButtons = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"scanBtn\",\n      children: [/*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"!#\",\n        className: \"myHref\",\n        onClick: onBtnClickHandler,\n        style: startStyle(),\n        children: btnText\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"!#\",\n        className: \"myHref\",\n        onClick: onCrossHairClickHandler,\n        style: xHairStyle(),\n        children: \"X-hair\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"!#\",\n        className: \"myHref\",\n        onClick: onBWClickHandler,\n        style: bwStyle(),\n        children: \"B/W\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"!#\",\n        className: \"myHref\",\n        onClick: onBeepClickHandler,\n        style: beepStyle(),\n        children: \"Beep\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 12\n    }, this);\n  };\n  const renderScan = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"scan\",\n      children: [renderCanvas(), renderButtons()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 7\n    }, this);\n  };\n  const renderQrCodeResult = () => {\n    return barcode;\n  };\n  const onClickBackHandler = e => {\n    e.preventDefault();\n    setResultOpen(false);\n  };\n  const onTransformToggleHandler = e => {\n    e.preventDefault();\n    setTransformToggle(!transformToggle);\n    const rc = rawCode;\n    const bc = barcode;\n    setBarcode(rc);\n    setRawCode(bc);\n  };\n  const renderTransformToggle = () => {\n    if (codeType === CODE_TYPE.RAW) return \"\";\n    return /*#__PURE__*/_jsxDEV(\"a\", {\n      href: \"!#\",\n      className: \"myHref\",\n      style: transformToggleStyle(),\n      onClick: onTransformToggleHandler,\n      children: transformToggle === true ? codeType : \"RAW\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 7\n    }, this);\n  };\n  const onClickCopyToClipboard = async e => {\n    e.preventDefault();\n    await navigator.clipboard.writeText(barcode);\n    const btnId = document.getElementById(\"copyToClip\");\n    btnId.innerText = \"DONE\";\n    btnId.style.backgroundColor = \"green\";\n    setTimeout(() => {\n      btnId.innerText = \"COPY\";\n      btnId.style.backgroundColor = \"\";\n    }, 1000);\n  };\n  const renderCopyToClipboardBtn = () => {\n    return /*#__PURE__*/_jsxDEV(\"a\", {\n      href: \"!#\",\n      style: {\n        padding: 12\n      },\n      id: \"copyToClip\",\n      className: \"myHref\",\n      onClick: onClickCopyToClipboard,\n      children: \"COPY\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 12\n    }, this);\n  };\n  const renderResult = () => {\n    if (resultOpen) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"resultModal\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"result\",\n          children: renderQrCodeResult()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            paddingTop: 10,\n            alignItems: \"right\"\n          },\n          children: [\"Decoding took \", milliseconds, \" ms\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 40\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"!#\",\n            style: {\n              padding: 12\n            },\n            className: \"myHref\",\n            onClick: onClickBackHandler,\n            children: \"BACK\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 13\n          }, this), renderTransformToggle(), renderCopyToClipboardBtn()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 9\n      }, this);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [renderScan(), renderResult()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 332,\n    columnNumber: 5\n  }, this);\n}\n_s(Scan, \"xWZxnwvFeLswmDr6QmNvY1IykEI=\");\n_c = Scan;\n;\nvar _c;\n$RefreshReg$(_c, \"Scan\");","map":{"version":3,"names":["React","useEffect","useState","beep","beepNow","WORKER_TYPE","CODE_TYPE","Upnqr","Covid19","jsxDEV","_jsxDEV","BTN_TXT","START","STOP","CANVAS_SIZE","WIDTH","HEIGHT","CAPTURE_OPTIONS","audio","video","facingMode","sw","sh","dw","dh","dx","dy","sx","sy","crossHairSvg","crossHairWidth","crossHairHeight","x0","y0","Scan","decode","worker","WASM","scanRate","bw","crosshair","upnqr","covid19","_s","btnText","setBtnText","scanning","setScanning","bwOn","setBwOn","bwRef","crosshairOn","setCrosshairOn","crosshairRef","resultOpen","setResultOpen","transformToggle","setTransformToggle","rawCode","setRawCode","codeType","setCodeType","beepOn","setBeepOn","document","createElement","barcode","setBarcode","milliseconds","setMilliseconds","qrworker","canvasElement","canvas","oldTime","onplaying","videoWidth","videoHeight","initWorker","Worker","onmessage","ev","data","terminate","result","stopScan","res","millis","ms","RAW","transformer","identified","transform","startScan","getElementById","getContext","willReadFrequently","srcObject","navigator","mediaDevices","getUserMedia","setAttribute","play","requestAnimationFrame","tick","err","then","console","log","alert","pause","getVideoTracks","forEach","track","stop","time","readyState","HAVE_ENOUGH_DATA","drawImage","current","monochromize","drawCrosshair","recogniseQRcode","imgd","getImageData","width","height","pix","i","length","gray","putImageData","fillStyle","shape","Path2D","fill","imageData","postMessage","buffer","onBtnClickHandler","e","preventDefault","onCrossHairClickHandler","onBWClickHandler","onBeepClickHandler","startStyle","style","textAlign","backgroundColor","xHairStyle","bwStyle","beepStyle","transformToggleStyle","padding","renderCanvas","id","className","fileName","_jsxFileName","lineNumber","columnNumber","renderButtons","children","href","onClick","renderScan","renderQrCodeResult","onClickBackHandler","onTransformToggleHandler","rc","bc","renderTransformToggle","onClickCopyToClipboard","clipboard","writeText","btnId","innerText","setTimeout","renderCopyToClipboardBtn","renderResult","paddingTop","alignItems","marginTop","_c","$RefreshReg$"],"sources":["/Users/jakechoi/Documents/StormhacksFall2024/stormhacks-2024/scanecipe/src/components/scan.js"],"sourcesContent":["import React, {useEffect} from \"react\";\nimport useState from 'react-usestateref';\nimport {beep as beepNow, WORKER_TYPE} from \"../helpers\";\nimport {CODE_TYPE} from \"../transformers/base\";\nimport {Upnqr} from \"../transformers/upnqr\";\nimport {Covid19} from \"../transformers/covid19\";\nimport \"../css/scan.css\";\n\nconst BTN_TXT = {\n  START: \"START\",\n  STOP: \"STOP\"\n};\n\nconst CANVAS_SIZE = {\n  WIDTH: 320,\n  HEIGHT: 430\n};\n\nconst CAPTURE_OPTIONS = {\n  audio: false,\n  video: {facingMode: \"environment\"}\n}\n\nconst sw = CANVAS_SIZE.WIDTH;\nconst sh = CANVAS_SIZE.HEIGHT;\nconst dw = sw;\nconst dh = sh;\nconst dx = 0;\nconst dy = 0;\nlet sx = 0;\nlet sy = 0;\n\nconst crossHairSvg = \"M77.125 148.02567c0-3.5774 2.73862-6.27567 6.37076-6.27567H119V117H84.0192C66.50812 117 52 130.77595 52 148.02567V183h25.125v-34.97433zM237.37338 117H202v24.75h35.18494c3.63161 0 6.69006 2.69775 6.69006 6.27567V183H269v-34.97433C269 130.77595 254.88446 117 237.37338 117zM243.875 285.4587c0 3.5774-2.73863 6.27567-6.37076 6.27567H202V317h35.50424C255.01532 317 269 302.70842 269 285.4587V251h-25.125v34.4587zM83.49576 291.73438c-3.63213 0-6.37076-2.69776-6.37076-6.27568V251H52v34.4587C52 302.70842 66.50812 317 84.0192 317H119v-25.26563H83.49576z\";\nconst crossHairWidth = 217, crossHairHeight = 200, x0 = 53, y0 = 117;\n\nexport default function Scan({\n  beep = true,\n  decode = true,\n  worker = WORKER_TYPE.WASM,\n  scanRate = 250,\n  bw = false,\n  crosshair = true,\n  upnqr = false,\n  covid19 = false\n}) {\n\n  // Component state\n  const [btnText, setBtnText] = useState(BTN_TXT.START);\n  const [scanning, setScanning] = useState(false);\n\n  const [bwOn, setBwOn, bwRef] = useState(bw);\n  const [crosshairOn, setCrosshairOn, crosshairRef] = useState(crosshair);\n\n  const [resultOpen, setResultOpen] = useState(false);\n  const [transformToggle, setTransformToggle] = useState(true);\n  const [rawCode, setRawCode] = useState();\n  const [codeType, setCodeType] = useState();\n  const [beepOn, setBeepOn] = useState(beep);\n\n  const [video] = useState(document.createElement(\"video\"));\n  const [barcode, setBarcode] = useState();\n  const [milliseconds, setMilliseconds] = useState();\n\n  // Constants\n  let qrworker = null;\n  let canvasElement = null;\n  let canvas = null;\n  let oldTime = 0;\n\n  video.onplaying = () => {\n    sx = (video.videoWidth - CANVAS_SIZE.WIDTH) / 2;\n    sy = (video.videoHeight - CANVAS_SIZE.HEIGHT) / 2;\n  };\n\n  const initWorker = () => {\n    qrworker = new Worker(worker + \"Worker.js\");\n    qrworker.onmessage = async ev => {\n      if (ev.data != null) {\n        qrworker.terminate();\n        const result = ev.data;\n        await stopScan();\n\n        let res = result.data;\n        const millis = ev.data.ms;\n        const rawCode = res;\n        let codeType = CODE_TYPE.RAW;\n\n        // Transform raw to UPNQR\n        if (upnqr) {\n          const transformer = new Upnqr();\n          if (transformer.identified(res)) {\n            codeType = transformer.codeType();\n            res = await transformer.transform(res);\n          }\n        }\n\n        // Transform raw to COVID19 certificate\n        if (covid19) {\n          const transformer = new Covid19();\n          if (transformer.identified(res)) {\n            codeType = transformer.codeType();\n            res = await transformer.transform(res);\n          }\n        }\n\n        setBarcode(res);\n        setResultOpen(true);\n        setRawCode(rawCode);\n        setCodeType(codeType);\n        setMilliseconds(millis);\n        if (beepOn) beepNow();\n      }\n    };\n  };\n\n  const startScan = async () => {\n    initWorker();\n    canvasElement = document.getElementById(\"canvas\");\n    canvas = canvasElement.getContext(\"2d\", {willReadFrequently: true});\n\n    setBtnText(BTN_TXT.STOP);\n    setBarcode(null);\n    setResultOpen(false);\n    setTransformToggle(true);\n    setRawCode(null);\n    setCodeType(CODE_TYPE.RAW);\n\n    try {\n      video.srcObject = await navigator.mediaDevices.getUserMedia(CAPTURE_OPTIONS);\n      video.setAttribute(\"playsinline\", \"true\");\n      await video.play();\n      setScanning(true);\n\n      requestAnimationFrame(tick);\n    } catch (err) {\n      stopScan().then();\n      console.log(\"stopped by the user\");\n      alert(err);\n    }\n  };\n\n  const stopScan = async () => {\n    setScanning(false);\n    setBtnText(BTN_TXT.START);\n    await video.pause();\n    if (video.srcObject) {\n      video.srcObject.getVideoTracks().forEach(track => track.stop());\n      video.srcObject = null;\n    }\n  };\n\n  const tick = (time) => {\n    if (video.readyState === video.HAVE_ENOUGH_DATA) {\n      canvas.drawImage(video, sx, sy, sw, sh, dx, dy, dw, dh);\n\n      if (bwRef.current) monochromize();\n      if (crosshairRef.current) drawCrosshair();\n      if (scanning) requestAnimationFrame(tick);\n      if (decode) recogniseQRcode(time);\n    }\n    requestAnimationFrame(tick);\n  };\n\n  const monochromize = () => {\n    let imgd = canvas.getImageData(0, 0, canvasElement.width, canvasElement.height);\n    let pix = imgd.data;\n    for (let i = 0; i < pix.length; i += 4) {\n      let gray = pix[i] * 0.3 + pix[i + 1] * 0.59 + pix[i + 2] * 0.11;\n      pix[i] = gray;\n      pix[i + 1] = gray;\n      pix[i + 2] = gray;\n    }\n    canvas.putImageData(imgd, 0, 0);\n  };\n\n  const drawCrosshair = () => {\n    canvas.fillStyle = \"rgba(255,255,255,0.4)\";\n    const shape = new Path2D(crossHairSvg);\n    canvas.fill(shape);\n  };\n\n  const recogniseQRcode = (time) => {\n    if (time - oldTime > scanRate) {\n      oldTime = time;\n      let imageData;\n      if (crosshairRef.current === true)\n        imageData = canvas.getImageData(x0, y0, crossHairWidth, crossHairHeight);\n      else\n        imageData = canvas.getImageData(0, 0, canvasElement.width, canvasElement.height);\n      qrworker.postMessage({width: imageData.width, height: imageData.height});\n      qrworker.postMessage(imageData, [imageData.data.buffer]);\n    }\n  };\n\n  const onBtnClickHandler = async (e) => {\n    e.preventDefault();\n    if (scanning) await stopScan(); else await startScan();\n  };\n\n  const onCrossHairClickHandler = async (e) => {\n    e.preventDefault();\n    setCrosshairOn(!crosshairOn);\n  };\n\n  const onBWClickHandler = async (e) => {\n    e.preventDefault();\n    setBwOn(!bwOn);\n  };\n\n  const onBeepClickHandler = async (e) => {\n    e.preventDefault();\n    setBeepOn(!beepOn);\n  };\n\n  const startStyle = () => {\n    const style = {width: 64, textAlign: \"center\"};\n    if (scanning) return {backgroundColor: \"red\", ...style};\n    else return {backgroundColor: \"\", ...style};\n  };\n\n  const xHairStyle = () => {\n    if (crosshairOn) return {backgroundColor: \"green\"};\n    else return {backgroundColor: \"\"};\n  };\n\n  const bwStyle = () => {\n    if (bwOn) return {backgroundColor: \"green\"};\n    else return {backgroundColor: \"\"};\n  };\n\n  const beepStyle = () => {\n    if (beepOn) return {backgroundColor: \"green\"};\n    else return {backgroundColor: \"\"};\n  };\n\n  const transformToggleStyle = () => {\n    if (transformToggle) return {backgroundColor: \"green\", padding: 12};\n    else return {backgroundColor: \"\", padding: 12};\n  }\n\n  useEffect(() => {}, []);\n\n  const renderCanvas = () => {\n    return <canvas id=\"canvas\" className=\"scanCanvas\" width={CANVAS_SIZE.WIDTH} height={CANVAS_SIZE.HEIGHT} />\n  };\n\n  const renderButtons = () => {\n    return <div className=\"scanBtn\">\n      <a href=\"!#\" className=\"myHref\" onClick={onBtnClickHandler} style={startStyle()}>{btnText}</a>\n      <a href=\"!#\" className=\"myHref\" onClick={onCrossHairClickHandler} style={xHairStyle()}>X-hair</a>\n      <a href=\"!#\" className=\"myHref\" onClick={onBWClickHandler} style={bwStyle()}>B/W</a>\n      <a href=\"!#\" className=\"myHref\" onClick={onBeepClickHandler} style={beepStyle()}>Beep</a>\n    </div>;\n  };\n\n  const renderScan = () => {\n    return (\n      <div className=\"scan\">\n        {renderCanvas()}\n        {renderButtons()}\n      </div>\n    );\n  };\n\n  const renderQrCodeResult = () => {\n    return barcode;\n  }\n\n  const onClickBackHandler = (e) => {\n    e.preventDefault();\n    setResultOpen(false);\n  };\n\n  const onTransformToggleHandler = (e) => {\n    e.preventDefault();\n    setTransformToggle(!transformToggle);\n    const rc = rawCode;\n    const bc = barcode;\n    setBarcode(rc);\n    setRawCode(bc);\n  };\n\n  const renderTransformToggle = () => {\n    if (codeType === CODE_TYPE.RAW) return \"\";\n    return (\n      <a href=\"!#\"\n         className=\"myHref\"\n         style={transformToggleStyle()}\n         onClick={onTransformToggleHandler}>\n        {transformToggle === true ? codeType : \"RAW\"}\n      </a>\n    );\n  };\n\n  const onClickCopyToClipboard = async (e) => {\n    e.preventDefault();\n    await navigator.clipboard.writeText(barcode);\n    const btnId = document.getElementById(\"copyToClip\");\n    btnId.innerText = \"DONE\";\n    btnId.style.backgroundColor = \"green\";\n    setTimeout(() => {\n      btnId.innerText = \"COPY\";\n      btnId.style.backgroundColor = \"\";\n    }, 1000);\n  }\n\n  const renderCopyToClipboardBtn = () => {\n    return <a href=\"!#\" style={{padding: 12}} id=\"copyToClip\" className=\"myHref\"\n              onClick={onClickCopyToClipboard}>COPY</a>\n  }\n\n  const renderResult = () => {\n    if (resultOpen) {\n      return (\n        <div className=\"resultModal\">\n          <div className=\"result\">\n            {renderQrCodeResult()}\n          </div>\n          <div style={{paddingTop: 10, alignItems: \"right\"}}>\n            Decoding took {milliseconds} ms\n          </div>\n          <div style={{marginTop: 40}}>\n            <a href=\"!#\" style={{padding: 12}} className=\"myHref\" onClick={onClickBackHandler}>BACK</a>\n            {renderTransformToggle()}\n            {renderCopyToClipboardBtn()}\n          </div>\n        </div>);\n    }\n  };\n\n  return (\n    <div>\n      {renderScan()}\n      {renderResult()}\n    </div>\n  )\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}