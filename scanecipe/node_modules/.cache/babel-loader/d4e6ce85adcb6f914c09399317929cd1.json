{"ast":null,"code":"import { CODE_TYPE, Transformer } from \"./base\";\nimport { decode } from \"upnqr\";\n\nclass Upnqr extends Transformer {\n  constructor() {\n    super(...arguments);\n    this.recognizer = \"UPNQR\";\n  }\n\n  codeType() {\n    return CODE_TYPE.UPNQR;\n  }\n\n  identified(raw) {\n    return raw.includes(this.recognizer);\n  }\n\n  async transform(raw) {\n    try {\n      return this.formatUpnQr(decode(raw));\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  static buttonCaption() {\n    return \"UPNQR\";\n  }\n\n  formatUpnQr(obj) {\n    let res = \"\";\n    let rok = \"\";\n    let date = obj.rok_placila;\n\n    if (date != null) {\n      console.log(\"Date: \" + date);\n      const d = date.getDate();\n      const m = date.getMonth() + 1;\n      const y = date.getFullYear();\n      rok = `${d}.${m}.${y}`;\n    }\n\n    if (obj.ime_placnika != null) res += `Pla훾nik: ${obj.ime_placnika}\\n`;\n    if (obj.ulica_placnika != null) res += `Naslov: ${obj.ulica_placnika}\\n`;\n    if (obj.kraj_placnika != null) res += `Kraj: ${obj.kraj_placnika}\\n\\n`;\n    if (obj.znesek != null) res += `Znesek: ${obj.znesek} EUR\\n`;\n    if (obj.koda_namena != null) res += `Koda namena: ${obj.koda_namena}\\n`;\n    if (obj.namen_placila != null) res += `Namen: ${obj.namen_placila}\\n`;\n    if (rok.length > 0) res += `Rok pla훾ila: ${rok}\\n`;\n    if (obj.IBAN_prejemnika != null) res += `IBAN: ${obj.IBAN_prejemnika}\\n`;\n    if (obj.nujno != null) res += `Nujno: ${obj.nujno ? \"da\" : \"ne\"}\\n\\n`;\n    if (obj.ime_prejemnika != null) res += `Prejemnik: ${obj.ime_prejemnika}\\n`;\n    if (obj.referenca_prejemnika != null) res += `Referenca: ${obj.referenca_prejemnika}\\n`;\n    if (obj.ulica_prejemnika != null) res += `Naslov: ${obj.ulica_prejemnika}\\n`;\n    if (obj.kraj_prejemnika != null) res += `Kraj: ${obj.kraj_prejemnika}`;\n    return res;\n  }\n\n}\n\nexport { Upnqr };","map":{"version":3,"sources":["C:/Users/ethan/Documents/stormhacks-2024/scanecipe/src/transformers/upnqr.js"],"names":["CODE_TYPE","Transformer","decode","Upnqr","recognizer","codeType","UPNQR","identified","raw","includes","transform","formatUpnQr","e","console","log","buttonCaption","obj","res","rok","date","rok_placila","d","getDate","m","getMonth","y","getFullYear","ime_placnika","ulica_placnika","kraj_placnika","znesek","koda_namena","namen_placila","length","IBAN_prejemnika","nujno","ime_prejemnika","referenca_prejemnika","ulica_prejemnika","kraj_prejemnika"],"mappings":"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","sourcesContent":["import {CODE_TYPE, Transformer} from \"./base\";\r\nimport {decode} from \"upnqr\";\r\n\r\nclass Upnqr extends Transformer {\r\n  recognizer = \"UPNQR\";\r\n\r\n  codeType() {\r\n    return CODE_TYPE.UPNQR;\r\n  }\r\n\r\n  identified(raw) {\r\n    return raw.includes(this.recognizer);\r\n  }\r\n\r\n  async transform(raw) {\r\n    try {\r\n      return this.formatUpnQr(decode(raw));\r\n    }\r\n    catch (e) {\r\n      console.log(e);\r\n    }\r\n  }\r\n\r\n  static buttonCaption() {\r\n    return \"UPNQR\";\r\n  }\r\n\r\n  formatUpnQr(obj){\r\n    let res = \"\";\r\n    let rok = \"\";\r\n    let date = obj.rok_placila;\r\n    if (date != null) {\r\n      console.log(\"Date: \" + date);\r\n      const d = date.getDate();\r\n      const m = date.getMonth() + 1;\r\n      const y = date.getFullYear();\r\n      rok = `${d}.${m}.${y}`;\r\n    }\r\n\r\n    if (obj.ime_placnika != null) res += `Pla훾nik: ${obj.ime_placnika}\\n`;\r\n    if (obj.ulica_placnika != null) res += `Naslov: ${obj.ulica_placnika}\\n`;\r\n    if (obj.kraj_placnika != null) res += `Kraj: ${obj.kraj_placnika}\\n\\n`;\r\n    if (obj.znesek != null) res += `Znesek: ${obj.znesek} EUR\\n`;\r\n    if (obj.koda_namena != null) res += `Koda namena: ${obj.koda_namena}\\n`;\r\n    if (obj.namen_placila != null) res += `Namen: ${obj.namen_placila}\\n`;\r\n    if (rok.length > 0) res += `Rok pla훾ila: ${rok}\\n`;\r\n    if (obj.IBAN_prejemnika != null) res += `IBAN: ${obj.IBAN_prejemnika}\\n`;\r\n    if (obj.nujno != null) res += `Nujno: ${obj.nujno ? \"da\" : \"ne\"}\\n\\n`;\r\n    if (obj.ime_prejemnika != null) res += `Prejemnik: ${obj.ime_prejemnika}\\n`;\r\n    if (obj.referenca_prejemnika != null) res += `Referenca: ${obj.referenca_prejemnika}\\n`;\r\n    if (obj.ulica_prejemnika != null) res += `Naslov: ${obj.ulica_prejemnika}\\n`;\r\n    if (obj.kraj_prejemnika != null) res += `Kraj: ${obj.kraj_prejemnika}`;\r\n    return res;\r\n  };\r\n}\r\n\r\nexport {Upnqr};\r\n"]},"metadata":{},"sourceType":"module"}