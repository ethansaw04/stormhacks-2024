{"ast":null,"code":"import { CODE_TYPE, Transformer } from \"./base\";\nimport { decode } from \"upnqr\";\nclass Upnqr extends Transformer {\n  constructor(...args) {\n    super(...args);\n    this.recognizer = \"UPNQR\";\n  }\n  codeType() {\n    return CODE_TYPE.UPNQR;\n  }\n  identified(raw) {\n    return raw.includes(this.recognizer);\n  }\n  async transform(raw) {\n    try {\n      return this.formatUpnQr(decode(raw));\n    } catch (e) {\n      console.log(e);\n    }\n  }\n  static buttonCaption() {\n    return \"UPNQR\";\n  }\n  formatUpnQr(obj) {\n    let res = \"\";\n    let rok = \"\";\n    let date = obj.rok_placila;\n    if (date != null) {\n      console.log(\"Date: \" + date);\n      const d = date.getDate();\n      const m = date.getMonth() + 1;\n      const y = date.getFullYear();\n      rok = `${d}.${m}.${y}`;\n    }\n    if (obj.ime_placnika != null) res += `Pla훾nik: ${obj.ime_placnika}\\n`;\n    if (obj.ulica_placnika != null) res += `Naslov: ${obj.ulica_placnika}\\n`;\n    if (obj.kraj_placnika != null) res += `Kraj: ${obj.kraj_placnika}\\n\\n`;\n    if (obj.znesek != null) res += `Znesek: ${obj.znesek} EUR\\n`;\n    if (obj.koda_namena != null) res += `Koda namena: ${obj.koda_namena}\\n`;\n    if (obj.namen_placila != null) res += `Namen: ${obj.namen_placila}\\n`;\n    if (rok.length > 0) res += `Rok pla훾ila: ${rok}\\n`;\n    if (obj.IBAN_prejemnika != null) res += `IBAN: ${obj.IBAN_prejemnika}\\n`;\n    if (obj.nujno != null) res += `Nujno: ${obj.nujno ? \"da\" : \"ne\"}\\n\\n`;\n    if (obj.ime_prejemnika != null) res += `Prejemnik: ${obj.ime_prejemnika}\\n`;\n    if (obj.referenca_prejemnika != null) res += `Referenca: ${obj.referenca_prejemnika}\\n`;\n    if (obj.ulica_prejemnika != null) res += `Naslov: ${obj.ulica_prejemnika}\\n`;\n    if (obj.kraj_prejemnika != null) res += `Kraj: ${obj.kraj_prejemnika}`;\n    return res;\n  }\n}\nexport { Upnqr };","map":{"version":3,"names":["CODE_TYPE","Transformer","decode","Upnqr","constructor","args","recognizer","codeType","UPNQR","identified","raw","includes","transform","formatUpnQr","e","console","log","buttonCaption","obj","res","rok","date","rok_placila","d","getDate","m","getMonth","y","getFullYear","ime_placnika","ulica_placnika","kraj_placnika","znesek","koda_namena","namen_placila","length","IBAN_prejemnika","nujno","ime_prejemnika","referenca_prejemnika","ulica_prejemnika","kraj_prejemnika"],"sources":["/Users/jakechoi/Documents/StormhacksFall2024/stormhacks-2024/scanecipe/src/transformers/upnqr.js"],"sourcesContent":["import {CODE_TYPE, Transformer} from \"./base\";\nimport {decode} from \"upnqr\";\n\nclass Upnqr extends Transformer {\n  recognizer = \"UPNQR\";\n\n  codeType() {\n    return CODE_TYPE.UPNQR;\n  }\n\n  identified(raw) {\n    return raw.includes(this.recognizer);\n  }\n\n  async transform(raw) {\n    try {\n      return this.formatUpnQr(decode(raw));\n    }\n    catch (e) {\n      console.log(e);\n    }\n  }\n\n  static buttonCaption() {\n    return \"UPNQR\";\n  }\n\n  formatUpnQr(obj){\n    let res = \"\";\n    let rok = \"\";\n    let date = obj.rok_placila;\n    if (date != null) {\n      console.log(\"Date: \" + date);\n      const d = date.getDate();\n      const m = date.getMonth() + 1;\n      const y = date.getFullYear();\n      rok = `${d}.${m}.${y}`;\n    }\n\n    if (obj.ime_placnika != null) res += `Pla훾nik: ${obj.ime_placnika}\\n`;\n    if (obj.ulica_placnika != null) res += `Naslov: ${obj.ulica_placnika}\\n`;\n    if (obj.kraj_placnika != null) res += `Kraj: ${obj.kraj_placnika}\\n\\n`;\n    if (obj.znesek != null) res += `Znesek: ${obj.znesek} EUR\\n`;\n    if (obj.koda_namena != null) res += `Koda namena: ${obj.koda_namena}\\n`;\n    if (obj.namen_placila != null) res += `Namen: ${obj.namen_placila}\\n`;\n    if (rok.length > 0) res += `Rok pla훾ila: ${rok}\\n`;\n    if (obj.IBAN_prejemnika != null) res += `IBAN: ${obj.IBAN_prejemnika}\\n`;\n    if (obj.nujno != null) res += `Nujno: ${obj.nujno ? \"da\" : \"ne\"}\\n\\n`;\n    if (obj.ime_prejemnika != null) res += `Prejemnik: ${obj.ime_prejemnika}\\n`;\n    if (obj.referenca_prejemnika != null) res += `Referenca: ${obj.referenca_prejemnika}\\n`;\n    if (obj.ulica_prejemnika != null) res += `Naslov: ${obj.ulica_prejemnika}\\n`;\n    if (obj.kraj_prejemnika != null) res += `Kraj: ${obj.kraj_prejemnika}`;\n    return res;\n  };\n}\n\nexport {Upnqr};\n"],"mappings":"AAAA,SAAQA,SAAS,EAAEC,WAAW,QAAO,QAAQ;AAC7C,SAAQC,MAAM,QAAO,OAAO;AAE5B,MAAMC,KAAK,SAASF,WAAW,CAAC;EAAAG,YAAA,GAAAC,IAAA;IAAA,SAAAA,IAAA;IAAA,KAC9BC,UAAU,GAAG,OAAO;EAAA;EAEpBC,QAAQA,CAAA,EAAG;IACT,OAAOP,SAAS,CAACQ,KAAK;EACxB;EAEAC,UAAUA,CAACC,GAAG,EAAE;IACd,OAAOA,GAAG,CAACC,QAAQ,CAAC,IAAI,CAACL,UAAU,CAAC;EACtC;EAEA,MAAMM,SAASA,CAACF,GAAG,EAAE;IACnB,IAAI;MACF,OAAO,IAAI,CAACG,WAAW,CAACX,MAAM,CAACQ,GAAG,CAAC,CAAC;IACtC,CAAC,CACD,OAAOI,CAAC,EAAE;MACRC,OAAO,CAACC,GAAG,CAACF,CAAC,CAAC;IAChB;EACF;EAEA,OAAOG,aAAaA,CAAA,EAAG;IACrB,OAAO,OAAO;EAChB;EAEAJ,WAAWA,CAACK,GAAG,EAAC;IACd,IAAIC,GAAG,GAAG,EAAE;IACZ,IAAIC,GAAG,GAAG,EAAE;IACZ,IAAIC,IAAI,GAAGH,GAAG,CAACI,WAAW;IAC1B,IAAID,IAAI,IAAI,IAAI,EAAE;MAChBN,OAAO,CAACC,GAAG,CAAC,QAAQ,GAAGK,IAAI,CAAC;MAC5B,MAAME,CAAC,GAAGF,IAAI,CAACG,OAAO,CAAC,CAAC;MACxB,MAAMC,CAAC,GAAGJ,IAAI,CAACK,QAAQ,CAAC,CAAC,GAAG,CAAC;MAC7B,MAAMC,CAAC,GAAGN,IAAI,CAACO,WAAW,CAAC,CAAC;MAC5BR,GAAG,GAAG,GAAGG,CAAC,IAAIE,CAAC,IAAIE,CAAC,EAAE;IACxB;IAEA,IAAIT,GAAG,CAACW,YAAY,IAAI,IAAI,EAAEV,GAAG,IAAI,YAAYD,GAAG,CAACW,YAAY,IAAI;IACrE,IAAIX,GAAG,CAACY,cAAc,IAAI,IAAI,EAAEX,GAAG,IAAI,WAAWD,GAAG,CAACY,cAAc,IAAI;IACxE,IAAIZ,GAAG,CAACa,aAAa,IAAI,IAAI,EAAEZ,GAAG,IAAI,SAASD,GAAG,CAACa,aAAa,MAAM;IACtE,IAAIb,GAAG,CAACc,MAAM,IAAI,IAAI,EAAEb,GAAG,IAAI,WAAWD,GAAG,CAACc,MAAM,QAAQ;IAC5D,IAAId,GAAG,CAACe,WAAW,IAAI,IAAI,EAAEd,GAAG,IAAI,gBAAgBD,GAAG,CAACe,WAAW,IAAI;IACvE,IAAIf,GAAG,CAACgB,aAAa,IAAI,IAAI,EAAEf,GAAG,IAAI,UAAUD,GAAG,CAACgB,aAAa,IAAI;IACrE,IAAId,GAAG,CAACe,MAAM,GAAG,CAAC,EAAEhB,GAAG,IAAI,gBAAgBC,GAAG,IAAI;IAClD,IAAIF,GAAG,CAACkB,eAAe,IAAI,IAAI,EAAEjB,GAAG,IAAI,SAASD,GAAG,CAACkB,eAAe,IAAI;IACxE,IAAIlB,GAAG,CAACmB,KAAK,IAAI,IAAI,EAAElB,GAAG,IAAI,UAAUD,GAAG,CAACmB,KAAK,GAAG,IAAI,GAAG,IAAI,MAAM;IACrE,IAAInB,GAAG,CAACoB,cAAc,IAAI,IAAI,EAAEnB,GAAG,IAAI,cAAcD,GAAG,CAACoB,cAAc,IAAI;IAC3E,IAAIpB,GAAG,CAACqB,oBAAoB,IAAI,IAAI,EAAEpB,GAAG,IAAI,cAAcD,GAAG,CAACqB,oBAAoB,IAAI;IACvF,IAAIrB,GAAG,CAACsB,gBAAgB,IAAI,IAAI,EAAErB,GAAG,IAAI,WAAWD,GAAG,CAACsB,gBAAgB,IAAI;IAC5E,IAAItB,GAAG,CAACuB,eAAe,IAAI,IAAI,EAAEtB,GAAG,IAAI,SAASD,GAAG,CAACuB,eAAe,EAAE;IACtE,OAAOtB,GAAG;EACZ;AACF;AAEA,SAAQhB,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module"}